//  Primary DB tables required across all databases  //

CREATE TABLE SUBSYSTEM_TBL(SUBSYSTEM_ID INT NOT NULL UNIQUE AUTO_INCREMENT, SUBSYSTEM_NAME VARCHAR(16) PRIMARY KEY, SUBSYSTEM_SHORT_NAME VARCHAR(3));

CREATE TABLE UI_TYPES_TBL(UI_TYPE_ID INT NOT NULL UNIQUE AUTO_INCREMENT, UI_TYPE CHAR(32) PRIMARY KEY);

CREATE TABLE CMD_TYPES_TBL(CMD_TYPE_ID INT NOT NULL UNIQUE AUTO_INCREMENT, CMD_TYPE CHAR(32) PRIMARY KEY, CMD_TYPES_TBL_CMD_TYPE CHAR(255));

CREATE TABLE BASE_CMD_TBL(CMD_ID CHAR(8) PRIMARY KEY, DESCRIPTION CHAR(40), SUBSYSTEM VARCHAR(16), FORMATION_TYPE VARCHAR(32), CMD_TYPE CHAR(32), BASE_CMD_CODE VARCHAR(32), BASE_CMD_MASK VARCHAR(32), CRITICALITY VARCHAR(32), PULSE_WIDTH VARCHAR(32), MAP_ID VARCHAR(32), UI_TYPE CHAR(32), PREFERRABLE_DECODER VARCHAR(32), CONFIRMATION_TYPE VARCHAR(255), REMARKS CHAR(40), FOREIGN KEY(SUBSYSTEM) REFERENCES SUBSYSTEM_TBL(SUBSYSTEM_NAME) ON UPDATE CASCADE, FOREIGN KEY(UI_TYPE) REFERENCES UI_TYPES_TBL(UI_TYPE) ON UPDATE CASCADE, FOREIGN KEY(CMD_TYPE) REFERENCES CMD_TYPES_TBL(CMD_TYPE) ON UPDATE CASCADE);

CREATE TABLE EXPRESSION(EXPR_ID INT, EXPR_TYPE INT, TM_PID CHAR(8), REL_OP VARCHAR(255), VALUE VARCHAR(255), VALUE_TYPE VARCHAR(255), PRIMARY KEY(EXPR_ID,EXPR_TYPE));

CREATE TABLE PREREQ_CONF_EXPR_TBL(CMD_ID CHAR(8), ENTRY_TYPE INT, FIELD_NO INT, EXPR_ID INT, LOGICAL_OP VARCHAR(255), PRIMARY KEY(CMD_ID, ENTRY_TYPE, FIELD_NO), FOREIGN KEY(EXPR_ID) REFERENCES EXPRESSION(EXPR_ID) ON UPDATE CASCADE, FOREIGN KEY(CMD_ID) REFERENCES BASE_CMD_TBL(CMD_ID) ON UPDATE CASCADE);

CREATE TABLE CPID_TBL(CMD_ID CHAR(8), CPID CHAR(8), CPID_DESC CHAR(20), TM_VAL VARCHAR(255), TM_COUNT INT, PROC_TYPE VARCHAR(255), PRIMARY KEY(CMD_ID, CPID), FOREIGN KEY(CMD_ID) REFERENCES BASE_CMD_TBL(CMD_ID) ON UPDATE CASCADE);

CREATE TABLE CMD_PART_TBL(CMD_ID CHAR(8), CMD_PART_NO INT, CMD_PART_MNEMONIC CHAR(48), CMD_PART_TYPE CHAR(32), START_BIT INT, NO_OF_BITS INT, PART_MASK VARCHAR(255), RESOLUTION VARCHAR(255), OFFSET DOUBLE, INPUT_FORMAT VARCHAR(32), LL DOUBLE, UL DOUBLE, UNITS CHAR(16), REMARKS CHAR(40), PRIMARY KEY(CMD_ID, CMD_PART_NO),FOREIGN KEY(CMD_ID) REFERENCES BASE_CMD_TBL(CMD_ID) ON UPDATE CASCADE);

CREATE TABLE BIT_SEL_TBL_INFO(BIT_SEL_TBL_NO INT PRIMARY KEY, BIT_SEL_TBL_NAME CHAR(31));

CREATE TABLE BIT_SEL_TBL(BIT_SEL_TBL_NO INT, FIELD_NO INT , START_BIT INT, NO_OF_BITS INT, BIT_MASK CHAR(64), VALUE INT, FIELD_MNEMONICS CHAR(31), VALUE_MNEMONICS CHAR(64), LOGICAL_OP VARCHAR(255), PRIMARY KEY(BIT_SEL_TBL_NO, FIELD_NO), FOREIGN KEY(BIT_SEL_TBL_NO) REFERENCES BIT_SEL_TBL_INFO(BIT_SEL_TBL_NO) ON UPDATE CASCADE);

CREATE TABLE LKUP_TBL_INFO(LKUP_TBL_NO INT PRIMARY KEY, LKUP_TBL_NAME CHAR(31), LKUP_TBL_TYPE VARCHAR(255));

CREATE TABLE LKUP_TBL(LKUP_TBL_NO INT, LKUP_ENTRY_INDEX INT, BYTE_CODE CHAR(16), VALUE CHAR(255), PRIMARY KEY(LKUP_TBL_NO, LKUP_ENTRY_INDEX), FOREIGN KEY(LKUP_TBL_NO) REFERENCES LKUP_TBL_INFO(LKUP_TBL_NO) ON UPDATE CASCADE);

CREATE TABLE FORM_LOGIC_PART_DATA_TBL(CMD_ID CHAR(8), PART_NO INT, LOGIC_LEVEL INT, LOGIC_PART_NO INT, FORM_LOGIC_PART_TYPE VARCHAR(255), PART_MNEMONIC CHAR(48), SUB_LOGIC_TYPE VARCHAR(255), PART_TYPE CHAR(32), START_BIT INT, NO_OF_BITS INT, PART_MASK VARCHAR(255), RESOLUTION VARCHAR(255), OFFSET DOUBLE, INPUT_FORMAT VARCHAR(32), LL DOUBLE, UL DOUBLE, UNITS CHAR(16), REMARKS CHAR(40), PRIMARY KEY(CMD_ID, PART_NO, LOGIC_LEVEL), FOREIGN KEY(CMD_ID) REFERENCES BASE_CMD_TBL(CMD_ID) ON UPDATE CASCADE);


// Common DB table remove -> AllConfig//
DROP TABLE MAP_ID_TBL;

DROP TABLE INPUT_FORMAT_TBL;

DROP TABLE PREFERRABLE_DECODER_TBL;

DROP TABLE CRITICALITY_TBL;

DROP TABLE PULSE_WIDTH_TBL;

DROP TABLE BASE_FORMATION_LOGIC_TBL;

DROP TABLE LKUP_TBL_TYPE_TBL;

DROP TABLE LOGICAL_OP_TBL;

DROP TABLE REL_OP_TBL;

DROP TABLE FORMATION_LOGIC_TBL;

DROP TABLE FORM_LOGIC_PART_TYPE_TBL;

DROP TABLE VALUE_TYPE_TBL;

DROP TABLE ENTRY_TYPE_TBL;

DROP TABLE EXPR_TYPE_TBL;

DROP TABLE CMD_PART_TYPES_TBL;

DROP TABLE CONFIRMATION_TYPE_TBL;

// Common DB table create -> AllConfig//
CREATE TABLE MAP_ID_TBL(ID INT AUTO_INCREMENT PRIMARY KEY,MAP_ID VARCHAR(32), MAP_BIT INT);

CREATE TABLE INPUT_FORMAT_TBL(ID INT AUTO_INCREMENT PRIMARY KEY,INPUT_FORMAT VARCHAR(32));

CREATE TABLE PREFERRABLE_DECODER_TBL(ID INT AUTO_INCREMENT PRIMARY KEY,PREFERRABLE_DECODER VARCHAR(32));

CREATE TABLE CRITICALITY_TBL(ID INT AUTO_INCREMENT PRIMARY KEY,CRITICALITY VARCHAR(32));

CREATE TABLE PULSE_WIDTH_TBL(ID INT AUTO_INCREMENT PRIMARY KEY,PULSE_WIDTH VARCHAR(32));

CREATE TABLE BASE_FORMATION_LOGIC_TBL(ID INT AUTO_INCREMENT PRIMARY KEY,BASE_FORMATION_LOGIC VARCHAR(32));

CREATE TABLE LKUP_TBL_TYPE_TBL(ID INT AUTO_INCREMENT PRIMARY KEY,LKUP_TBL_TYPE VARCHAR(32));

CREATE TABLE LOGICAL_OP_TBL(ID INT AUTO_INCREMENT PRIMARY KEY,LOGICAL_OP VARCHAR(32));

CREATE TABLE REL_OP_TBL(ID INT AUTO_INCREMENT PRIMARY KEY, REL_OP VARCHAR(32));

CREATE TABLE FORMATION_LOGIC_TBL(FORMATION_LOGIC_ID INT AUTO_INCREMENT PRIMARY KEY, FORMATION_LOGIC VARCHAR(48), FORMATION_LOGIC_LEVEL INT);

CREATE TABLE FORM_LOGIC_PART_TYPE_TBL(ID INT AUTO_INCREMENT PRIMARY KEY, FORM_LOGIC_PART_TYPE VARCHAR(48));

CREATE TABLE VALUE_TYPE_TBL(ID INT AUTO_INCREMENT PRIMARY KEY, VALUE_TYPE VARCHAR(48));

CREATE TABLE ENTRY_TYPE_TBL(ID INT PRIMARY KEY AUTO_INCREMENT, ENTRY_TYPE VARCHAR(32));

CREATE TABLE EXPR_TYPE_TBL(ID INT PRIMARY KEY AUTO_INCREMENT, EXPR_TYPE VARCHAR(32));

CREATE TABLE CMD_PART_TYPES_TBL(CMD_PART_TYPE_ID INT PRIMARY KEY AUTO_INCREMENT, CMD_PART_TYPE CHAR(32));

CREATE TABLE CONFIRMATION_TYPE_TBL(ID INT PRIMARY KEY AUTO_INCREMENT, BIT_POSITION INT, CONFIRMATION_TYPE CHAR(32), BIT_VAL INT);


// Common DB table select -> AllConfig//
SELECT * FROM MAP_ID_TBL;

SELECT * FROM INPUT_FORMAT_TBL;

SELECT * FROM PREFERRABLE_DECODER_TBL;

SELECT * FROM CRITICALITY_TBL;

SELECT * FROM PULSE_WIDTH_TBL;

SELECT * FROM BASE_FORMATION_LOGIC_TBL;

SELECT * FROM LKUP_TBL_TYPE_TBL;

SELECT * FROM LOGICAL_OP_TBL;

SELECT * FROM REL_OP_TBL;

SELECT * FROM FORMATION_LOGIC_TBL;

SELECT * FROM FORM_LOGIC_PART_TYPE_TBL;

SELECT * FROM VALUE_TYPE_TBL;

SELECT * FROM ENTRY_TYPE_TBL;

SELECT * FROM EXPR_TYPE_TBL;

SELECT * FROM CMD_PART_TYPES_TBL;

SELECT * FROM CONFIRMATION_TYPE_TBL;






